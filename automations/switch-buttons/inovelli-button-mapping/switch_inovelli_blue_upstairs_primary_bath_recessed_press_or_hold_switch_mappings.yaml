alias: >-
  [Switch] [Inovelli Blue] : [Upstairs] [Primary Bath Recessed] : [Press or Hold]
  : [Switch Mappings]
description: ""
use_blueprint:
  path: starbuck93/z2m-v2-0-inovelli-blue-series-2-in-1-switch-dimmer.yaml
  input:
    switch: 99146109082915c239d4aca69f0425a0
    config_single:
      - choose:
          - conditions:
              - condition: template
                value_template: >-
                  {{ is_state('light.upstairs_primary_bath_vanity_inovelli_presence', 'on')
                    and is_state('light.upstairs_primary_bath_shower_inovelli_presence', 'on')
                    and is_state('light.upstairs_primary_bath_fan_light_inovelli_on_off', 'on')
                    and is_state('light.upstairs_primary_bath_lights', 'on')
                  }}
            sequence:
              - action: light.turn_off
                metadata: {}
                target:
                  entity_id:
                    - light.upstairs_primary_bath_vanity_inovelli_presence
                    - light.upstairs_primary_bath_shower_inovelli_presence
                    - light.upstairs_primary_bath_fan_light_inovelli_on_off
                    - light.upstairs_primary_bath_lights
                data: {}
              - action: input_boolean.turn_off
                metadata: {}
                target:
                  entity_id: input_boolean.upstairs_primary_bathroom_use_shower_delay
                data: {}
        default:
          - action: light.turn_on
            metadata: {}
            target:
              entity_id:
                - light.upstairs_primary_bath_vanity_inovelli_presence
                - light.upstairs_primary_bath_shower_inovelli_presence
                - light.upstairs_primary_bath_fan_light_inovelli_on_off
                - light.upstairs_primary_bath_lights
            data: {}
          - action: input_boolean.turn_on
            metadata: {}
            target:
              entity_id: input_boolean.upstairs_primary_bathroom_use_shower_delay
            data: {}

